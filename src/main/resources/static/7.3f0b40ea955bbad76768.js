(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{zdrH:function(t,e,i){"use strict";i.r(e),i.d(e,"InventoryModule",(function(){return xe}));var r=i("ofXK");class n{}var o=i("5+tZ"),a=i("lJxs"),c=i("fXoL"),s=i("tk/3"),l=i("AytR"),u=i("z6cu"),b=i("JIr8");class d{constructor(t,e){this.url=t,this.http=e,this.headers=(new s.e).set("Content-Type","application/json")}get(t={}){return this.http.get(this.url,t)}post(t,e=this.options){return console.log("Going to make http call"),this.http.post(this.url,t,e).pipe(Object(a.a)(t=>(console.log("Response --\x3e",t),t.body)),Object(b.a)(t=>Object(u.a)(t)))}}let h=(()=>{class t{constructor(t){this.httpClient=t,this.baseUrl=l.a.baseUrl+"/api/inventory",this.httpService=new d(this.baseUrl,t),this.multiPartHeaders=(new s.e).set("Content-Type","multipart/form-data"),this.headers=(new s.e).set("Content-Type","application/json")}addToInventory(t){const e=new FormData;for(let i=0;i<t.images.length;i++)e.append("images",t.images[i]);return e.append("item",t.item),e.append("description",t.description),e.append("category",t.category.toString()),e.append("subCategory",t.subCategory.toString()),e.append("price",t.price.toString()),e.append("language",""),e.append("available",t.available?"true":"false"),this.httpClient.post(this.baseUrl,e,{observe:"response"}).pipe(Object(a.a)(t=>this.handleResponse(t),Object(b.a)(t=>Object(u.a)(t))))}getAllItems(t,e,i=""){let r=new s.f;return r=r.append("page",t),r=r.append("size",e),r=r.append("filter",i),this.httpClient.get(this.baseUrl,{observe:"response",params:r}).pipe(Object(a.a)(t=>this.handleResponse(t),Object(b.a)(t=>Object(u.a)(t))))}getSelectedItem(t){return this.httpClient.get(this.baseUrl+"/"+t,{observe:"response"}).pipe(Object(a.a)(t=>this.handleResponse(t),Object(b.a)(t=>Object(u.a)(t))))}getItemByName(t){let e=new s.f;return e=e.append("item",t),console.log("Inside getItemByName() ",e),console.log("Inside getItemByName() ",t),this.httpClient.get(this.baseUrl+"/view",{params:e,observe:"response"}).pipe(Object(a.a)(t=>this.handleResponse(t),Object(b.a)(t=>Object(u.a)(t))))}getHomePageData(t=1){return this.httpClient.get(this.baseUrl+"/home",{observe:"response"}).pipe(Object(a.a)(t=>this.handleResponse(t),Object(b.a)(t=>Object(u.a)(t))))}getItemsByCategory(t=1){return this.httpClient.get(this.baseUrl+"/list/category/"+t,{observe:"response"}).pipe(Object(a.a)(t=>this.handleResponse(t),Object(b.a)(t=>Object(u.a)(t))))}getAllCategories(){return this.httpClient.get(this.baseUrl+"/category",{observe:"response"}).pipe(Object(a.a)(t=>this.constructCategoryDD(t),Object(b.a)(t=>Object(u.a)(t))))}getAllSubCategories(t){let e=new s.f;return e=e.append("category",t.toString()),this.httpClient.get(this.baseUrl+"/subcategory",{observe:"response",params:e}).pipe(Object(a.a)(t=>this.constructSubCategoryDD(t),Object(b.a)(t=>Object(u.a)(t))))}updateInventory(t){return this.httpClient.put(this.baseUrl,t,{headers:(new s.e).append("Content-Type","application/json"),observe:"response"}).pipe(Object(a.a)(t=>this.handleResponse(t),Object(b.a)(t=>Object(u.a)(t))))}deleteItem(t){return this.httpClient.delete(this.baseUrl+"/"+t,{observe:"response"}).pipe(Object(a.a)(t=>this.handleResponse(t),Object(b.a)(t=>Object(u.a)(t))))}deleteImage(t){return this.httpClient.delete(this.baseUrl+"/image/"+t,{observe:"response"}).pipe(Object(a.a)(t=>this.handleResponse(t)),Object(b.a)(t=>Object(u.a)(t)))}uploadImages(t,e){let i=new FormData;return i.append("id",t.toString()),e.forEach(t=>i.append("images",t)),this.httpClient.post(this.baseUrl+"/image",i,{observe:"response"}).pipe(Object(a.a)(t=>this.handleResponse(t)),Object(b.a)(t=>Object(u.a)(t)))}getItemsBySubCategory(t,e,i){let r=new s.f;return r=r.append("page",t.toString()),r=r.append("size",e.toString()),r=r.append("subcategory",i),this.httpClient.get(this.baseUrl+"/subcategory/view",{observe:"response",params:r}).pipe(Object(a.a)(t=>this.handleResponse(t)),Object(b.a)(t=>Object(u.a)(t)))}search(t){let e=new s.f;return e=e.append("searchString",t),this.httpClient.get(this.baseUrl+"/search",{params:e,observe:"response"}).pipe(Object(a.a)(t=>this.handleResponse(t)),Object(b.a)(t=>Object(u.a)(t)))}handleResponse(t){if(200==t.status)return null==t?void 0:t.body}constructCategoryDD(t){let e=[];return 200==t.status&&t.body.forEach(t=>{e.push({value:t.id,viewValue:t.categoryName})}),e}constructSubCategoryDD(t){let e=[];return 200==t.status&&t.body.forEach(t=>{e.push({value:t.id,viewValue:t.subCategory})}),e}}return t.\u0275fac=function(e){return new(e||t)(c.Vb(s.b))},t.\u0275prov=c.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),p=(()=>{class t{constructor(t){this.inventoryService=t}resolve(t){let e=new n;return this.inventoryService.getSelectedItem(t.params.id).pipe(Object(o.a)(t=>(e.inventory=t,this.inventoryService.getAllCategories())),Object(a.a)(t=>(e.category=t,console.log("Resolve",e),e)))}}return t.\u0275fac=function(e){return new(e||t)(c.Vb(h))},t.\u0275prov=c.Hb({token:t,factory:t.\u0275fac}),t})();var m=i("tyNb");let f=(()=>{class t{constructor(t,e){this.inventoryService=t,this.route=e}resolve(t){return this.inventoryService.getItemByName(t.params.title)}}return t.\u0275fac=function(e){return new(e||t)(c.Vb(h),c.Vb(m.a))},t.\u0275prov=c.Hb({token:t,factory:t.\u0275fac}),t})();var g=i("M9IT"),y=i("xgIS"),v=i("Kj3r"),S=i("/uUt"),w=i("vkgz"),C=i("0IaG"),R=i("6dr3"),I=i("bTqV");let x=(()=>{class t{constructor(t,e,i,r){this.dialogRef=t,this.data=e,this.inventoryService=i,this.uiUtilityService=r}ngOnInit(){}onNoClick(){this.dialogRef.close()}delete(t){this.dialogRef.close(),this.inventoryService.deleteItem(t).subscribe(()=>this.uiUtilityService.showSnackBar("Item Deleted Successfully","Close"),t=>this.uiUtilityService.showErrorSnackBar(t))}}return t.\u0275fac=function(e){return new(e||t)(c.Lb(C.g),c.Lb(C.a),c.Lb(h),c.Lb(R.a))},t.\u0275cmp=c.Fb({type:t,selectors:[["app-delete-item"]],decls:11,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["mat-button","",3,"click"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close","click"]],template:function(t,e){1&t&&(c.Rb(0,"h1",0),c.Fc(1),c.Qb(),c.Mb(2,"hr"),c.Rb(3,"div",1),c.Rb(4,"p"),c.Fc(5),c.Qb(),c.Qb(),c.Rb(6,"div",2),c.Rb(7,"button",3),c.Zb("click",(function(){return e.onNoClick()})),c.Fc(8,"No"),c.Qb(),c.Rb(9,"button",4),c.Zb("click",(function(){return e.delete(e.data.inventory.id)})),c.Fc(10,"Delete"),c.Qb(),c.Qb()),2&t&&(c.Ab(1),c.Gc(e.data.title),c.Ab(4),c.Hc(" Are you sure to delete ",e.data.inventory.item," "),c.Ab(4),c.jc("mat-dialog-close",1))},directives:[C.h,C.e,C.c,I.a,C.d],styles:[""]}),t})();var F=i("0EQZ"),Q=i("2Vo4");class D extends F.b{constructor(t,e){super(),this.inventoryService=t,this.uiUtilityService=e,this.inventory=new Q.a([]),this.length=new Q.a(0)}connect(t){return this.inventory}disconnect(t){this.inventory.unsubscribe(),this.length.unsubscribe()}getAllItems(t,e,i){return this.inventoryService.getAllItems(t,e,i).subscribe(t=>{this.inventory.next(t.inventory),this.length.next(t.totalElements)},t=>{this.uiUtilityService.showSnackBar("Something went wrong!","Close"),console.log("Error Occured!!",t)})}}var O=i("XiUz"),j=i("kmnG"),A=i("qFsG"),k=i("+0xr"),L=i("bSwM"),T=i("NFeN");const _=["input"];function U(t,e){1&t&&(c.Rb(0,"th",17),c.Fc(1," Item "),c.Qb())}function E(t,e){if(1&t&&(c.Rb(0,"td",18),c.Fc(1),c.Qb()),2&t){const t=e.$implicit;c.Ab(1),c.Hc(" ",t.item," ")}}function M(t,e){1&t&&(c.Rb(0,"th",17),c.Fc(1," Description "),c.Qb())}function G(t,e){if(1&t&&(c.Rb(0,"td",18),c.Fc(1),c.Qb()),2&t){const t=e.$implicit;c.Ab(1),c.Hc(" ",t.description," ")}}function N(t,e){1&t&&(c.Rb(0,"th",17),c.Fc(1," Price "),c.Qb())}function q(t,e){if(1&t&&(c.Rb(0,"td",18),c.Fc(1),c.ec(2,"currency"),c.Qb()),2&t){const t=e.$implicit;c.Ab(1),c.Hc(" ",c.gc(2,1,t.price,"INR")," ")}}function H(t,e){1&t&&(c.Rb(0,"th",17),c.Fc(1," Available "),c.Qb())}function B(t,e){if(1&t&&(c.Rb(0,"td",18),c.Mb(1,"mat-checkbox",19),c.Qb()),2&t){const t=e.$implicit;c.Ab(1),c.jc("disabled",!0)("checked",t.available)}}function P(t,e){if(1&t){const t=c.Sb();c.Rb(0,"mat-header-cell"),c.Rb(1,"button",20),c.Zb("click",(function(){return c.uc(t),c.dc().addItem()})),c.Rb(2,"mat-icon"),c.Fc(3,"add"),c.Qb(),c.Qb(),c.Qb()}}function V(t,e){if(1&t){const t=c.Sb();c.Rb(0,"mat-cell"),c.Rb(1,"button",20),c.Zb("click",(function(){c.uc(t);const i=e.$implicit;return c.dc().editItem(i)})),c.Rb(2,"mat-icon"),c.Fc(3,"edit"),c.Qb(),c.Qb(),c.Rb(4,"button",21),c.Zb("click",(function(){c.uc(t);const i=e.$implicit;return c.dc().deleteItem(i)})),c.Rb(5,"mat-icon"),c.Fc(6,"delete"),c.Qb(),c.Qb(),c.Qb()}}function z(t,e){1&t&&c.Mb(0,"tr",22)}function Z(t,e){1&t&&c.Mb(0,"tr",23)}const W=function(){return[5,10,25,100]};let K=(()=>{class t{constructor(t,e,i,r){this.router=t,this.inventoryService=e,this.uiUtilityService=i,this.dialog=r,this.pageSize=10,this.columnsToDisplay=["item","description","price","available","actions"]}ngOnInit(){this.inventoryDataSource=new D(this.inventoryService,this.uiUtilityService),this.inventoryDataSource.getAllItems(0,this.pageSize)}ngAfterViewInit(){Object(y.a)(this.input.nativeElement,"keyup").pipe(Object(v.a)(250),Object(S.a)(),Object(w.a)(t=>{this.paginator.pageIndex=0,this.inventoryDataSource.getAllItems(0,this.pageSize,t.target.value)})).subscribe(),this.paginator.page.pipe(Object(w.a)(t=>this.handlePagination(t))).subscribe()}addItem(){this.router.navigate(["/inventory","addItem"])}editItem(t){this.router.navigate(["/inventory","editItem",t.id])}deleteItem(t){console.log("Selected",t),this.dialog.open(x,{data:{title:"Info",inventory:t}})}handlePagination(t){this.inventoryDataSource.getAllItems(t.pageIndex,t.pageSize)}handleError(t){this.uiUtilityService.showSnackBar("Something went wrong!","Close"),console.log("Error Occured!!",t)}}return t.\u0275fac=function(e){return new(e||t)(c.Lb(m.c),c.Lb(h),c.Lb(R.a),c.Lb(C.b))},t.\u0275cmp=c.Fb({type:t,selectors:[["app-inventory-management"]],viewQuery:function(t,e){var i;1&t&&(c.Jc(g.a,!0),c.Jc(_,!0)),2&t&&(c.pc(i=c.ac())&&(e.paginator=i.first),c.pc(i=c.ac())&&(e.input=i.first))},decls:24,vars:9,consts:[["fxLayout","","fxLayoutAlign.lt-md","center center","fxLayoutAlign","end space-between",1,"w-90"],["fxFlex.lt-md","90"],["type","text","matInput","","placeholder","Filter"],["input",""],["mat-table","",1,"w-100",3,"dataSource"],["matColumnDef","item"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","description"],["matColumnDef","price"],["matColumnDef","available"],["matColumnDef","actions"],[4,"matHeaderCellDef"],[4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize","pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],["matInput","",3,"disabled","checked"],["mat-icon-button","","color","primary",3,"click"],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(c.Rb(0,"div",0),c.Rb(1,"mat-form-field",1),c.Mb(2,"input",2,3),c.Qb(),c.Qb(),c.Rb(4,"table",4),c.Pb(5,5),c.Dc(6,U,2,0,"th",6),c.Dc(7,E,2,1,"td",7),c.Ob(),c.Pb(8,8),c.Dc(9,M,2,0,"th",6),c.Dc(10,G,2,1,"td",7),c.Ob(),c.Pb(11,9),c.Dc(12,N,2,0,"th",6),c.Dc(13,q,3,4,"td",7),c.Ob(),c.Pb(14,10),c.Dc(15,H,2,0,"th",6),c.Dc(16,B,2,2,"td",7),c.Ob(),c.Pb(17,11),c.Dc(18,P,4,0,"mat-header-cell",12),c.Dc(19,V,7,0,"mat-cell",13),c.Ob(),c.Dc(20,z,1,0,"tr",14),c.Dc(21,Z,1,0,"tr",15),c.Qb(),c.Mb(22,"mat-paginator",16),c.ec(23,"async")),2&t&&(c.Ab(4),c.jc("dataSource",e.inventoryDataSource),c.Ab(16),c.jc("matHeaderRowDef",e.columnsToDisplay),c.Ab(1),c.jc("matRowDefColumns",e.columnsToDisplay),c.Ab(1),c.jc("length",c.fc(23,6,e.inventoryDataSource.length))("pageSize",e.pageSize)("pageSizeOptions",c.lc(8,W)))},directives:[O.d,O.c,j.c,O.b,A.a,k.j,k.c,k.e,k.b,k.g,k.i,g.a,k.d,k.a,L.a,I.a,T.a,k.f,k.h],pipes:[r.b,r.d],styles:[".no-results[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:14px;font-size:14px;font-style:italic}th.mat-header-cell[_ngcontent-%COMP%]{font-weight:700;font-size:15px}.mat-column-description[_ngcontent-%COMP%]{width:50%!important;overflow-wrap:break-word!important}.mat-column-price[_ngcontent-%COMP%]{width:5%!important}.mat-column-available[_ngcontent-%COMP%]{text-align:center}.filter[_ngcontent-%COMP%]{width:75%!important}"]}),t})();var $=i("3Pt+"),J=i("eIep"),X=i("esXn"),Y=i("/1cH"),tt=i("znSr"),et=i("FKr1"),it=i("yf9x");let rt=(()=>{class t{constructor(t){this.router=t,this.images=[],this.value=[]}ngOnInit(){this.value.forEach(t=>{const{id:e,imagePath:i,item:r}=t;this.images.push({image:i,alt:i,thumbImage:i,id:e,title:r})})}handleImageClick(t){t.target&&t.target.title&&this.router.navigate(["/inventory","view",t.target.title])}viewItems(t){this.router.navigate(["/inventory","list",t])}}return t.\u0275fac=function(e){return new(e||t)(c.Lb(m.c))},t.\u0275cmp=c.Fb({type:t,selectors:[["app-image-slider"]],inputs:{subcategory:"subcategory",lastRowStyle:"lastRowStyle",value:"value"},decls:6,vars:3,consts:[["fxLayout","","fxLayoutAlign","center"],[1,"mt-5","pointer",3,"click"],[3,"images","imagePopup","click"]],template:function(t,e){1&t&&(c.Rb(0,"div"),c.Rb(1,"div",0),c.Rb(2,"h1",1),c.Zb("click",(function(){return e.viewItems(e.subcategory)})),c.Fc(3),c.Qb(),c.Qb(),c.Mb(4,"hr"),c.Rb(5,"ng-image-slider",2),c.Zb("click",(function(t){return e.handleImageClick(t)})),c.Qb(),c.Qb()),2&t&&(c.Ab(3),c.Gc(e.subcategory),c.Ab(2),c.jc("images",e.images)("imagePopup",!1))},directives:[O.d,O.c,it.a],styles:[""]}),t})();const nt=["auto"];function ot(t,e){if(1&t&&(c.Rb(0,"mat-option",12),c.Fc(1),c.Qb()),2&t){const t=e.$implicit;c.jc("value",t.item),c.Ab(1),c.Hc(" ",t.item," ")}}function at(t,e){if(1&t&&(c.Rb(0,"div"),c.Mb(1,"app-image-slider",13),c.Qb()),2&t){const t=e.$implicit;c.Ab(1),c.jc("subcategory",t.key)("value",t.value)}}const ct=function(){return{"pb-25":!0}};let st=(()=>{class t{constructor(t,e,i){this.inventoryService=t,this.cartService=e,this.router=i,this.map=new Map,this.images=[],this.formControl=new $.d,this.items=new Map,this.filter=[]}ngOnInit(){this.assetUrl=l.a.assetUrl,localStorage.removeItem("paymentInitiated"),this.subscription=this.inventoryService.getHomePageData().subscribe(t=>{this.items=t.inventory,this.cartService.setCartItems(t.cart)})}ngAfterViewInit(){console.log("Items Size",this.items.entries.length),this.formControl.valueChanges.pipe(Object(v.a)(250),Object(S.a)(),Object(J.a)(t=>this.inventoryService.getAllItems(0,99999,t)),Object(a.a)(t=>t.inventory)).subscribe(t=>{this.filter=t})}search(){console.log("Searching ",this.formControl.value),this.router.navigate(["/inventory","search"],{queryParams:{search:this.formControl.value}})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(c.Lb(h),c.Lb(X.a),c.Lb(m.c))},t.\u0275cmp=c.Fb({type:t,selectors:[["app-inventory-list"]],viewQuery:function(t,e){var i;1&t&&c.Jc(nt,!0),2&t&&c.pc(i=c.ac())&&(e.input=i.first)},decls:17,vars:8,consts:[["fxLayout","column","fxLayoutAlign","space-around",1,"mt-5"],["fxLayoutAlign","end center","fxLayoutAlign.lt-md","center center"],["fxFlex","30","fxFlex.lt-md","70"],["form",""],["fxFill",""],["type","text","matInput","",3,"formControl","matAutocomplete"],["input",""],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["mat-flat-button","","color","primary",1,"m-5",3,"click"],[4,"ngFor","ngForOf"],[3,"ngClass.xs"],[3,"value"],[3,"subcategory","value"]],template:function(t,e){if(1&t&&(c.Rb(0,"div",0),c.Rb(1,"div",1),c.Rb(2,"form",2,3),c.Rb(4,"mat-form-field",4),c.Rb(5,"mat-label"),c.Fc(6,"Search"),c.Qb(),c.Mb(7,"input",5,6),c.Rb(9,"mat-autocomplete",null,7),c.Dc(11,ot,2,2,"mat-option",8),c.Qb(),c.Qb(),c.Qb(),c.Rb(12,"button",9),c.Zb("click",(function(){return e.search()})),c.Fc(13," Search "),c.Qb(),c.Qb(),c.Dc(14,at,2,2,"div",10),c.ec(15,"keyvalue"),c.Mb(16,"div",11),c.Qb()),2&t){const t=c.qc(10);c.Ab(7),c.jc("formControl",e.formControl)("matAutocomplete",t),c.Ab(4),c.jc("ngForOf",e.filter),c.Ab(3),c.jc("ngForOf",c.fc(15,5,e.items)),c.Ab(2),c.jc("ngClass.xs",c.lc(7,ct))}},directives:[O.d,O.c,$.s,$.n,$.o,O.b,j.c,O.f,j.f,A.a,$.b,Y.c,$.m,$.e,Y.a,r.m,I.a,tt.a,et.i,rt],pipes:[r.h],styles:[""]}),t})();var lt=i("Wp6s"),ut=i("d3UM"),bt=i("8LU1"),dt=i("XNiG"),ht=i("nLfN");const pt=["inputFile"],mt=["inputValue"];function ft(t,e){1&t&&(c.Rb(0,"mat-icon",7),c.Fc(1,"attach_file"),c.Qb())}const gt=[[["","ngxMatFileInputIcon",""]]],yt=["[ngxMatFileInputIcon]"];let vt=0;class St{constructor(t,e,i,r){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=i,this.ngControl=r}}const wt=Object(et.v)(St);let Ct=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=c.Gb({type:t,selectors:[["","ngxMatFileInputIcon",""]]}),t})(),Rt=(()=>{class t extends wt{constructor(t,e,i,r,n,o,a){super(a,n,o,r),this._elementRef=t,this._platform=e,this._cd=i,this.ngControl=r,this.color="primary",this.fileNames=null,this._uid="ngx-mat-fileinput-"+vt++,this.stateChanges=new dt.a,this.focused=!1,this.controlType="ngx-mat-file-input",this.autofilled=!1,this._onTouched=()=>{},this._onChange=()=>{},this._disabled=!1,this._multiple=!1,this.placeholder="Choose a file",this.separator=",",this._required=!1,this._readonly=!0,this.id=this.id,this.ngControl&&(this.ngControl.valueAccessor=this)}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=Object(bt.c)(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get multiple(){return this._multiple}set multiple(t){this._multiple=Object(bt.c)(t)}get required(){return this._required}set required(t){this._required=Object(bt.c)(t)}get value(){return this._value}set value(t){this._value=t}get readonly(){return this._readonly}set readonly(t){this._readonly=Object(bt.c)(t)}get accept(){return this._accept}set accept(t){this._accept=t}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete()}ngDoCheck(){this.ngControl&&this.updateErrorState()}writeValue(t){this._updateInputValue(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this.stateChanges.next()}focus(t){this._inputValueRef.nativeElement.focus(t)}_focusChanged(t){t===this.focused||this.readonly&&t||(this.focused=t,this.stateChanges.next())}_markAsTouched(){this._onTouched(),this._cd.markForCheck(),this.stateChanges.next()}_isBadInput(){let t=this._inputValueRef.nativeElement.validity;return t&&t.badInput}get empty(){return!this._inputValueRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){return this.focused||!this.empty}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}openFilePicker(t){this._inputFileRef.nativeElement.click(),t&&(t.preventDefault(),t.stopPropagation()),this._markAsTouched()}handleFiles(t){if(t.length>0){const e=new Array;for(let i=0;i<t.length;i++)e.push(t.item(i));this._updateInputValue(e),this._resetInputFile(),this._onChange(this.multiple?e:e[0])}}onContainerClick(t){}_resetInputFile(){this._inputFileRef.nativeElement.value=""}_updateInputValue(t){let e=null;t&&(e=Array.isArray(t)?this._multiple?t.map(t=>t.name).join(this.separator):t[0].name:null!=t.name?t.name:null),this._inputValueRef.nativeElement.value=e}}return t.\u0275fac=function(e){return new(e||t)(c.Lb(c.l),c.Lb(ht.a),c.Lb(c.h),c.Lb($.l,10),c.Lb($.o,8),c.Lb($.g,8),c.Lb(et.a))},t.\u0275cmp=c.Fb({type:t,selectors:[["ngx-mat-file-input"]],contentQueries:function(t,e,i){var r;1&t&&c.Eb(i,Ct,!0),2&t&&c.pc(r=c.ac())&&(e._customIcon=r.first)},viewQuery:function(t,e){var i;1&t&&(c.zc(pt,!0),c.zc(mt,!0)),2&t&&(c.pc(i=c.ac())&&(e._inputFileRef=i.first),c.pc(i=c.ac())&&(e._inputValueRef=i.first))},hostAttrs:[1,"ngx-mat-file-input"],inputs:{color:"color",placeholder:"placeholder",separator:"separator",id:"id",disabled:"disabled",multiple:"multiple",required:"required",value:"value",readonly:"readonly",accept:"accept",errorStateMatcher:"errorStateMatcher"},exportAs:["ngx-mat-file-input"],features:[c.zb([{provide:j.d,useExisting:Object(c.U)(()=>t)}]),c.xb,c.yb],ngContentSelectors:yt,decls:8,vars:13,consts:[["autocomplete","off",1,"mat-input-element","mat-form-field-autofill-control",3,"disabled","required"],["inputValue",""],[1,"mat-form-field-suffix"],["matSuffix","","mat-icon-button","","type","button",1,"button-browse",3,"color","disabled","click"],["class","ngx-mat-file-input--default-icon",4,"ngIf"],["type","file",1,"input-file",3,"multiple","accept","change"],["inputFile",""],[1,"ngx-mat-file-input--default-icon"]],template:function(t,e){1&t&&(c.ic(gt),c.Mb(0,"input",0,1),c.Rb(2,"div",2),c.Rb(3,"button",3),c.Zb("click",(function(t){return e.openFilePicker(t)})),c.Dc(4,ft,2,0,"mat-icon",4),c.hc(5),c.Qb(),c.Qb(),c.Rb(6,"input",5,6),c.Zb("change",(function(t){return e.handleFiles(t.target.files)})),c.Qb()),2&t&&(c.jc("disabled",e.disabled)("required",e.required),c.Bb("id",e.id)("placeholder",e.placeholder)("readonly",e.readonly||null)("aria-describedby",e._ariaDescribedby||null)("aria-invalid",e.errorState)("aria-required",e.required.toString()),c.Ab(3),c.jc("color",e.color)("disabled",e.disabled),c.Ab(1),c.jc("ngIf",!e._customIcon),c.Ab(2),c.jc("multiple",e.multiple)("accept",e.accept))},directives:[I.a,j.g,r.n,T.a],styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .ngx-mat-file-input--default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .ngx-mat-file-input--default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .ngx-mat-file-input--default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .ngx-mat-file-input--default-icon{display:block;height:1.5em;width:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .ngx-mat-file-input--default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .ngx-mat-file-input--default-icon{margin:auto}.ngx-mat-file-input{align-items:center;display:flex;height:18px;line-height:18px}.ngx-mat-file-input .input-file{display:block;height:0;visibility:hidden;width:0}"],encapsulation:2}),t})(),It=(()=>{class t{}return t.\u0275mod=c.Jb({type:t}),t.\u0275inj=c.Ib({factory:function(e){return new(e||t)},imports:[[r.c,I.b,T.b,j.e,A.b]]}),t})();const xt=["form"];function Ft(t,e){1&t&&(c.Rb(0,"mat-error"),c.Fc(1," Item is required! "),c.Qb())}function Qt(t,e){1&t&&(c.Rb(0,"mat-error"),c.Fc(1," Description is required! "),c.Qb())}function Dt(t,e){if(1&t){const t=c.Sb();c.Rb(0,"mat-option",18),c.Zb("valueChange",(function(i){return c.uc(t),e.$implicit.value=i})),c.Fc(1),c.Qb()}if(2&t){const t=e.$implicit;c.jc("value",t.value),c.Ab(1),c.Gc(t.viewValue)}}function Ot(t,e){1&t&&(c.Rb(0,"mat-error"),c.Fc(1," Category is required! "),c.Qb())}function jt(t,e){if(1&t){const t=c.Sb();c.Rb(0,"mat-option",18),c.Zb("valueChange",(function(i){return c.uc(t),e.$implicit.value=i})),c.Fc(1),c.Qb()}if(2&t){const t=e.$implicit;c.jc("value",t.value),c.Ab(1),c.Gc(t.viewValue)}}function At(t,e){1&t&&(c.Rb(0,"mat-error"),c.Fc(1," Sub Category is required! "),c.Qb())}function kt(t,e){1&t&&(c.Rb(0,"mat-error"),c.Fc(1," Price is required! "),c.Qb())}let Lt=(()=>{class t{constructor(t,e,i){this.formBuilder=t,this.inventoryService=e,this.uiUtilityService=i,this.files=[],this.categories=[],this.categoriesDD=[],this.subCategoriesDD=[],this.maxSize=16}ngOnInit(){this.inventoryService.getAllCategories().subscribe(t=>this.categoriesDD=t,t=>this.handleError(t)),this.formGroup=this.formBuilder.group({item:["",$.r.required],description:["",$.r.required],category:["",$.r.required],subCategory:["",$.r.required],price:["",$.r.required],available:[!0,""],images:["",[$.r.required]]}),this.formGroup.get("category").valueChanges.subscribe(t=>{this.inventoryService.getAllSubCategories(t).subscribe(t=>this.subCategoriesDD=t,t=>this.handleError(t))})}saveItem(){this.inventoryService.addToInventory(this.formGroup.value).subscribe(t=>{this.resetForm(),this.uiUtilityService.showSnackBar("Item added!","Close")},t=>{this.handleError(t)})}handleError(t){this.uiUtilityService.showSnackBar("Something went wrong!","Close"),console.log("Error Occured!!",t)}resetForm(){this.form.nativeElement.reset()}}return t.\u0275fac=function(e){return new(e||t)(c.Lb($.c),c.Lb(h),c.Lb(R.a))},t.\u0275cmp=c.Fb({type:t,selectors:[["app-add-item"]],viewQuery:function(t,e){var i;1&t&&c.Jc(xt,!0),2&t&&c.pc(i=c.ac())&&(e.form=i.first)},decls:46,vars:10,consts:[["fxLayout","","fxLayoutAlign","center center",1,"pb-50"],["fxFlex","30","fxFlex.lt-sm","100"],[1,"text-center"],["fxLayout","column",3,"formGroup"],["form",""],["matInput","","formControlName","item"],[4,"ngIf"],["matInput","","formControlName","description"],["formControlName","category"],[3,"value","valueChange",4,"ngFor","ngForOf"],["formControlName","subCategory"],["matInput","","formControlName","price","type","number"],["matInput","","formControlName","available",1,"large-font"],["formControlName","images","accept","image/*",3,"multiple"],["ngxMatFileInputIcon",""],["fxLayout","","fxLayoutGap","5px"],["mat-flat-button","","color","primary",3,"disabled","click"],["type","reset","mat-flat-button","","color","warn"],[3,"value","valueChange"]],template:function(t,e){1&t&&(c.Rb(0,"div",0),c.Rb(1,"mat-card",1),c.Rb(2,"mat-card-title",2),c.Fc(3,"Add To Inventory"),c.Qb(),c.Mb(4,"hr"),c.Rb(5,"mat-card-content"),c.Rb(6,"form",3,4),c.Rb(8,"mat-form-field"),c.Rb(9,"mat-label"),c.Fc(10,"Item"),c.Qb(),c.Mb(11,"input",5),c.Dc(12,Ft,2,0,"mat-error",6),c.Qb(),c.Rb(13,"mat-form-field"),c.Rb(14,"mat-label"),c.Fc(15,"Description"),c.Qb(),c.Mb(16,"textarea",7),c.Dc(17,Qt,2,0,"mat-error",6),c.Qb(),c.Rb(18,"mat-form-field"),c.Rb(19,"mat-label"),c.Fc(20,"Category"),c.Qb(),c.Rb(21,"mat-select",8),c.Dc(22,Dt,2,2,"mat-option",9),c.Qb(),c.Dc(23,Ot,2,0,"mat-error",6),c.Qb(),c.Rb(24,"mat-form-field"),c.Rb(25,"mat-label"),c.Fc(26,"Sub Category"),c.Qb(),c.Rb(27,"mat-select",10),c.Dc(28,jt,2,2,"mat-option",9),c.Qb(),c.Dc(29,At,2,0,"mat-error",6),c.Qb(),c.Rb(30,"mat-form-field"),c.Rb(31,"mat-label"),c.Fc(32," Price "),c.Qb(),c.Mb(33,"input",11),c.Dc(34,kt,2,0,"mat-error",6),c.Qb(),c.Rb(35,"mat-checkbox",12),c.Fc(36,"Available"),c.Qb(),c.Rb(37,"mat-form-field"),c.Rb(38,"ngx-mat-file-input",13),c.Rb(39,"mat-icon",14),c.Fc(40,"folder"),c.Qb(),c.Qb(),c.Qb(),c.Rb(41,"mat-card-actions",15),c.Rb(42,"button",16),c.Zb("click",(function(){return e.saveItem()})),c.Fc(43," Save "),c.Qb(),c.Rb(44,"button",17),c.Fc(45," Reset "),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb()),2&t&&(c.Ab(6),c.jc("formGroup",e.formGroup),c.Ab(6),c.jc("ngIf",e.formGroup.get("item").hasError("required")),c.Ab(5),c.jc("ngIf",e.formGroup.get("description").hasError("required")),c.Ab(5),c.jc("ngForOf",e.categoriesDD),c.Ab(1),c.jc("ngIf",e.formGroup.get("category").hasError("required")),c.Ab(5),c.jc("ngForOf",e.subCategoriesDD),c.Ab(1),c.jc("ngIf",e.formGroup.get("subCategory").hasError("required")),c.Ab(5),c.jc("ngIf",e.formGroup.get("price").hasError("required")),c.Ab(4),c.jc("multiple",!0),c.Ab(4),c.jc("disabled",!e.formGroup.valid))},directives:[O.d,O.c,lt.a,O.b,lt.g,lt.c,$.s,$.n,$.g,j.c,j.f,A.a,$.b,$.m,$.f,r.n,ut.a,r.m,$.p,L.a,Rt,T.a,Ct,lt.b,O.e,I.a,j.b,et.i],styles:[""]}),t})(),Tt=(()=>{class t{constructor(t,e,i,r){this.dialogRef=t,this.data=e,this.inventoryService=i,this.uiUtilityService=r}ngOnInit(){}closeDialog(){this.dialogRef.close()}deleteImage(){this.inventoryService.deleteImage(this.data.id).subscribe(()=>{this.closeDialog(),this.uiUtilityService.showSnackBar("Image Deleted","Close")},t=>this.uiUtilityService.showErrorSnackBar(t))}}return t.\u0275fac=function(e){return new(e||t)(c.Lb(C.g),c.Lb(C.a),c.Lb(h),c.Lb(R.a))},t.\u0275cmp=c.Fb({type:t,selectors:[["app-delete-inventory-image"]],decls:10,vars:1,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["mat-button","",3,"click"],["mat-button","","cdkFocusInitial","",3,"click"]],template:function(t,e){1&t&&(c.Rb(0,"h1",0),c.Fc(1),c.Qb(),c.Rb(2,"div",1),c.Rb(3,"p"),c.Fc(4,"Are you sure to delete the image?"),c.Qb(),c.Qb(),c.Rb(5,"div",2),c.Rb(6,"button",3),c.Zb("click",(function(){return e.closeDialog()})),c.Fc(7,"No"),c.Qb(),c.Rb(8,"button",4),c.Zb("click",(function(){return e.deleteImage()})),c.Fc(9,"Ok"),c.Qb(),c.Qb()),2&t&&(c.Ab(1),c.Hc(" ",e.data.title,""))},directives:[C.h,C.e,C.c,I.a],styles:[""]}),t})();function _t(t,e){1&t&&(c.Rb(0,"mat-error"),c.Fc(1," Item is required! "),c.Qb())}function Ut(t,e){1&t&&(c.Rb(0,"mat-error"),c.Fc(1," Description is required! "),c.Qb())}function Et(t,e){if(1&t){const t=c.Sb();c.Rb(0,"mat-option",19),c.Zb("valueChange",(function(i){return c.uc(t),e.$implicit.value=i})),c.Fc(1),c.Qb()}if(2&t){const t=e.$implicit;c.jc("value",t.value),c.Ab(1),c.Hc(" ",t.viewValue," ")}}function Mt(t,e){1&t&&(c.Rb(0,"mat-error"),c.Fc(1," Category is required! "),c.Qb())}function Gt(t,e){if(1&t){const t=c.Sb();c.Rb(0,"mat-option",19),c.Zb("valueChange",(function(i){return c.uc(t),e.$implicit.value=i})),c.Fc(1),c.Qb()}if(2&t){const t=e.$implicit;c.jc("value",t.value),c.Ab(1),c.Hc(" ",t.viewValue," ")}}function Nt(t,e){1&t&&(c.Rb(0,"mat-error"),c.Fc(1," Sub Category is required! "),c.Qb())}function qt(t,e){1&t&&(c.Rb(0,"mat-error"),c.Fc(1," Price is required! "),c.Qb())}function Ht(t,e){if(1&t){const t=c.Sb();c.Rb(0,"div"),c.Mb(1,"img",20),c.Rb(2,"button",21),c.Zb("click",(function(){c.uc(t);const i=e.$implicit;return c.dc().deleteInventoryImage(i.id)})),c.Rb(3,"mat-icon",22),c.Fc(4,"delete"),c.Qb(),c.Qb(),c.Qb()}if(2&t){const t=e.$implicit;c.Ab(1),c.kc("src",t.image,c.wc)}}function Bt(t,e){1&t&&(c.Rb(0,"div",23),c.Fc(1," Not Available "),c.Qb())}let Pt=(()=>{class t{constructor(t,e,i,r,n,o){this.activatedRoute=t,this.router=e,this.formBuilder=i,this.uiUtilityService=r,this.inventoryService=n,this.matDialog=o,this.categoriesDD=[],this.subCategoriesDD=[]}ngOnInit(){if(this.uploadFormControl=new $.d(""),this.uploadFormControl.valueChanges.subscribe(t=>this.uploadFiles(t)),this.selectedItem=this.activatedRoute.snapshot.data.selectedItem,this.selectedItem){let{id:t,item:e,description:i,price:r,available:n,category:o,subCategory:a}=this.selectedItem.inventory;this.categoriesDD=this.selectedItem.category,this.inventoryService.getAllSubCategories(o).subscribe(t=>{this.subCategoriesDD=t,this.formGroup.get("category").patchValue(o),this.formGroup.get("subCategory").patchValue(a)}),this.formGroup=this.formBuilder.group({id:[t],item:[e,[$.r.required]],description:[i,[$.r.required]],price:[r,[$.r.required]],available:[n,[$.r.required]],category:this.formBuilder.group({id:[o,[$.r.required]]}),subCategory:this.formBuilder.group({id:[a,[$.r.required]]})})}else this.uiUtilityService.showSnackBar("Something Went Wrong!","Close")}updateInventory(){console.log("Updating",this.formGroup.value),this.inventoryService.updateInventory(this.formGroup.value).subscribe(()=>{this.uiUtilityService.showSnackBar("Updated Successfully","close"),this.router.navigate(["/inventory","manage_inventory"])},t=>{console.log("Error occured",t),this.uiUtilityService.showSnackBar("Something Went Wrong","close")})}deleteInventoryImage(t){const e=this.selectedItem.inventory.inventoryImages.findIndex(e=>t===e.id);e>-1&&this.matDialog.open(Tt,{data:{title:"Info",id:t}}).afterClosed().subscribe(()=>this.selectedItem.inventory.inventoryImages.splice(e,1))}uploadFiles(t){this.inventoryService.uploadImages(this.selectedItem.inventory.id,t).subscribe(t=>{this.uploadFormControl.reset(),this.selectedItem.inventory.inventoryImages=t.inventoryImages,this.uiUtilityService.showSnackBar("Image Uploaded","Close")},t=>this.uiUtilityService.showErrorSnackBar(t))}}return t.\u0275fac=function(e){return new(e||t)(c.Lb(m.a),c.Lb(m.c),c.Lb($.c),c.Lb(R.a),c.Lb(h),c.Lb(C.b))},t.\u0275cmp=c.Fb({type:t,selectors:[["app-edit-item"]],decls:49,vars:13,consts:[["fxLayout","","fxLayoutAlign","space-around center"],["fxFlex","50","fxFlex.lt-md","100"],["fxLayout","row","fxLayoutAlign","space-around center"],["fxLayout","column","fxFill","",3,"formGroup"],["matInput","","formControlName","item"],[4,"ngIf"],["matInput","","formControlName","description"],["formGroupName","category"],["formControlName","id"],[3,"value","valueChange",4,"ngFor","ngForOf"],["formGroupName","subCategory"],["matInput","","formControlName","price","type","number"],["matInput","","formControlName","available",1,"large-font"],["accept","image/*",3,"formControl","multiple"],[1,"large-font"],["fxLayout","column","fxFill",""],[4,"ngFor","ngForOf"],["fxLayout","","fxLayoutAlign","center center",4,"ngIf"],["mat-flat-button","","color","primary",3,"click"],[3,"value","valueChange"],["mat-card-md-image","",3,"src"],["mat-flat-button","",3,"click"],["color","warn"],["fxLayout","","fxLayoutAlign","center center"]],template:function(t,e){1&t&&(c.Rb(0,"div",0),c.Rb(1,"mat-card",1),c.Rb(2,"mat-card-title"),c.Rb(3,"h1"),c.Fc(4),c.Qb(),c.Mb(5,"hr"),c.Qb(),c.Rb(6,"mat-card-content",2),c.Rb(7,"form",3),c.Rb(8,"mat-form-field"),c.Rb(9,"mat-label"),c.Fc(10,"Item"),c.Qb(),c.Mb(11,"input",4),c.Dc(12,_t,2,0,"mat-error",5),c.Qb(),c.Rb(13,"mat-form-field"),c.Rb(14,"mat-label"),c.Fc(15,"Description"),c.Qb(),c.Mb(16,"textarea",6),c.Dc(17,Ut,2,0,"mat-error",5),c.Qb(),c.Rb(18,"mat-form-field",7),c.Rb(19,"mat-label"),c.Fc(20,"Category"),c.Qb(),c.Rb(21,"mat-select",8),c.Dc(22,Et,2,2,"mat-option",9),c.Qb(),c.Dc(23,Mt,2,0,"mat-error",5),c.Qb(),c.Rb(24,"mat-form-field",10),c.Rb(25,"mat-label"),c.Fc(26,"Sub Category"),c.Qb(),c.Rb(27,"mat-select",8),c.Dc(28,Gt,2,2,"mat-option",9),c.Qb(),c.Dc(29,Nt,2,0,"mat-error",5),c.Qb(),c.Rb(30,"mat-form-field"),c.Rb(31,"mat-label"),c.Fc(32," Price "),c.Qb(),c.Mb(33,"input",11),c.Dc(34,qt,2,0,"mat-error",5),c.Qb(),c.Rb(35,"div"),c.Rb(36,"mat-checkbox",12),c.Fc(37," Available "),c.Qb(),c.Qb(),c.Rb(38,"mat-form-field"),c.Mb(39,"ngx-mat-file-input",13),c.Qb(),c.Rb(40,"div"),c.Rb(41,"mat-label",14),c.Fc(42,"Images"),c.Qb(),c.Rb(43,"div",15),c.Dc(44,Ht,5,1,"div",16),c.Qb(),c.Dc(45,Bt,2,0,"div",17),c.Qb(),c.Qb(),c.Qb(),c.Rb(46,"mat-card-actions"),c.Rb(47,"button",18),c.Zb("click",(function(){return e.updateInventory()})),c.Fc(48," Save "),c.Qb(),c.Qb(),c.Qb(),c.Qb()),2&t&&(c.Ab(4),c.Hc("Edit: ",e.selectedItem.inventory.item,""),c.Ab(3),c.jc("formGroup",e.formGroup),c.Ab(5),c.jc("ngIf",e.formGroup.get("item").hasError("required")),c.Ab(5),c.jc("ngIf",e.formGroup.get("description").hasError("required")),c.Ab(5),c.jc("ngForOf",e.categoriesDD),c.Ab(1),c.jc("ngIf",e.formGroup.get("category").hasError("required")),c.Ab(5),c.jc("ngForOf",e.subCategoriesDD),c.Ab(1),c.jc("ngIf",e.formGroup.get("subCategory").hasError("required")),c.Ab(5),c.jc("ngIf",e.formGroup.get("price").hasError("required")),c.Ab(5),c.jc("formControl",e.uploadFormControl)("multiple",!0),c.Ab(5),c.jc("ngForOf",e.selectedItem.inventory.inventoryImages),c.Ab(1),c.jc("ngIf",0==e.selectedItem.inventory.inventoryImages.length))},directives:[O.d,O.c,lt.a,O.b,lt.g,lt.c,$.s,$.n,O.f,$.g,j.c,j.f,A.a,$.b,$.m,$.f,r.n,$.h,ut.a,r.m,$.p,L.a,Rt,$.e,lt.b,I.a,j.b,et.i,lt.e,T.a],styles:[""]}),t})();var Vt=i("pi4R");let zt=(()=>{class t{constructor(t,e,i,r){this.activatedRoute=t,this.cartService=e,this.uiUtilityService=i,this.router=r}ngOnInit(){this.inventory=this.activatedRoute.snapshot.data.selectedItem}addToCart(){this.cartService.addToCart(this.inventory).subscribe(t=>{this.uiUtilityService.showSnackBar("Added to Cart","Close")},t=>this.uiUtilityService.showErrorSnackBar(t))}buyNow(){this.cartService.addToCart(this.inventory).subscribe(t=>this.router.navigate(["/checkout"]),t=>this.uiUtilityService.showErrorSnackBar(t))}}return t.\u0275fac=function(e){return new(e||t)(c.Lb(m.a),c.Lb(X.a),c.Lb(R.a),c.Lb(m.c))},t.\u0275cmp=c.Fb({type:t,selectors:[["app-view-item"]],decls:9,vars:1,consts:[["fxLayout","","fxLayoutAlign","space-around center"],["fxLayout","column","fxLayoutAlign","space-around center","fxFlex","50","fxFlex.lt-md","100"],[3,"inventory"],["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","center center"],["mat-flat-button","","color","primary",3,"click"],["mat-flat-button","","color","accent",3,"click"]],template:function(t,e){1&t&&(c.Rb(0,"div",0),c.Rb(1,"mat-card",1),c.Rb(2,"mat-card-content"),c.Mb(3,"app-view-inventory",2),c.Qb(),c.Rb(4,"mat-card-actions",3),c.Rb(5,"button",4),c.Zb("click",(function(){return e.addToCart()})),c.Fc(6,"Add To Cart"),c.Qb(),c.Rb(7,"button",5),c.Zb("click",(function(){return e.buyNow()})),c.Fc(8,"Buy Now"),c.Qb(),c.Qb(),c.Qb(),c.Qb()),2&t&&(c.Ab(3),c.jc("inventory",e.inventory))},directives:[O.d,O.c,lt.a,O.b,lt.c,Vt.a,lt.b,O.e,I.a],styles:["mt-10[_ngcontent-%COMP%]{margin-top:10%}p-10[_ngcontent-%COMP%]{padding:10%}.container[_ngcontent-%COMP%]{height:95vh;overflow-y:auto}"]}),t})();const Zt=function(t){return{"pb-25":t}};function Wt(t,e){if(1&t){const t=c.Sb();c.Rb(0,"div",2),c.Rb(1,"div",3),c.Rb(2,"mat-card"),c.Mb(3,"img",4),c.Rb(4,"mat-card-content"),c.Rb(5,"div",5),c.Rb(6,"p"),c.Rb(7,"b"),c.Fc(8),c.Qb(),c.Qb(),c.Rb(9,"p"),c.Fc(10),c.Qb(),c.Rb(11,"p"),c.Fc(12),c.ec(13,"currency"),c.Qb(),c.Qb(),c.Qb(),c.Rb(14,"mat-card-actions",6),c.Rb(15,"button",7),c.Zb("click",(function(){c.uc(t);const i=e.$implicit;return c.dc().addToCart(i)})),c.Fc(16," Add To Cart "),c.Qb(),c.Rb(17,"button",8),c.Zb("click",(function(){c.uc(t);const i=e.$implicit;return c.dc().buyNow(i)})),c.Fc(18," Buy Now "),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb()}if(2&t){const t=e.$implicit,i=e.index,r=c.dc();c.Ab(1),c.jc("ngClass.lt-md",c.mc(8,Zt,i===r.items.length-1)),c.Ab(2),c.kc("src",t.imagePath,c.wc),c.Ab(5),c.Gc(t.item),c.Ab(2),c.Hc(" ",t.description," "),c.Ab(2),c.Hc("Price: ",c.gc(13,5,t.price,"INR"),"")}}let Kt=(()=>{class t{constructor(t,e,i,r,n){this.activatedRoute=t,this.inventoryService=e,this.uiUtilityService=i,this.cartService=r,this.router=n,this.items=[]}ngOnInit(){this.activatedRoute.queryParams.subscribe(t=>{this.search(t.search)})}search(t){this.inventoryService.search(t).subscribe(t=>{this.items=t,console.log("Items",this.items)},t=>this.uiUtilityService.showErrorSnackBar(t))}addToCart(t){console.log("Items",t),this.cartService.addToCart(t).subscribe(t=>{this.uiUtilityService.showSnackBar("Added to Cart","Close")},t=>this.uiUtilityService.showErrorSnackBar(t))}buyNow(t){this.cartService.addToCart(t).subscribe(t=>this.router.navigate(["/checkout"]),t=>this.uiUtilityService.showErrorSnackBar(t))}}return t.\u0275fac=function(e){return new(e||t)(c.Lb(m.a),c.Lb(h),c.Lb(R.a),c.Lb(X.a),c.Lb(m.c))},t.\u0275cmp=c.Fb({type:t,selectors:[["app-search-view"]],decls:2,vars:1,consts:[["fxLayout","row wrap","fxLayout.lt-md","column","fxLayoutGap","10px grid","fxFill",""],["fxFlex","33.33","fxFlex.lt-md","100",4,"ngFor","ngForOf"],["fxFlex","33.33","fxFlex.lt-md","100"],["fxLayout","column",3,"ngClass.lt-md"],["mat-card-lg-image","",3,"src"],[1,"large-font","mt-10"],["fxLayout","row","fxLayoutGap","10px"],["mat-flat-button","","color","primary",3,"click"],["mat-flat-button","","color","accent",3,"click"]],template:function(t,e){1&t&&(c.Rb(0,"div",0),c.Dc(1,Wt,19,10,"div",1),c.Qb()),2&t&&(c.Ab(1),c.jc("ngForOf",e.items))},directives:[O.d,O.e,O.f,r.m,O.b,tt.a,lt.a,lt.d,lt.c,lt.b,I.a],pipes:[r.d],styles:[""]}),t})();var $t=i("LRne"),Jt=i("pLZG"),Xt=i("7o/Q"),Yt=i("D0XW");i("l7GE"),i("ZUHj");const te={leading:!0,trailing:!1};class ee{constructor(t,e,i,r){this.duration=t,this.scheduler=e,this.leading=i,this.trailing=r}call(t,e){return e.subscribe(new ie(t,this.duration,this.scheduler,this.leading,this.trailing))}}class ie extends Xt.a{constructor(t,e,i,r,n){super(t),this.duration=e,this.scheduler=i,this.leading=r,this.trailing=n,this._hasTrailingValue=!1,this._trailingValue=null}_next(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(re,this.duration,{subscriber:this})),this.leading?this.destination.next(t):this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)}}function re(t){const{subscriber:e}=t;e.clearThrottle()}function ne(t,e,i,r){const n=window&&!!window.document&&window.document.documentElement;let o=n&&e?window:i;if(t&&(o=t&&n&&"string"==typeof t?function(t,e,i){return(i?window.document:e).querySelector(t)}(t,i.nativeElement,r):t,!o))throw new Error("ngx-infinite-scroll {resolveContainerElement()}: selector for");return o}function oe(t){return t&&!t.firstChange}const ae={clientHeight:"clientHeight",offsetHeight:"offsetHeight",scrollHeight:"scrollHeight",pageYOffset:"pageYOffset",offsetTop:"offsetTop",scrollTop:"scrollTop",top:"top"},ce={clientHeight:"clientWidth",offsetHeight:"offsetWidth",scrollHeight:"scrollWidth",pageYOffset:"pageXOffset",offsetTop:"offsetLeft",scrollTop:"scrollLeft",top:"left"};class se{constructor(t=!0){this.vertical=t,this.propsMap=t?ae:ce}clientHeightKey(){return this.propsMap.clientHeight}offsetHeightKey(){return this.propsMap.offsetHeight}scrollHeightKey(){return this.propsMap.scrollHeight}pageYOffsetKey(){return this.propsMap.pageYOffset}offsetTopKey(){return this.propsMap.offsetTop}scrollTopKey(){return this.propsMap.scrollTop}topKey(){return this.propsMap.top}}function le(t){return["Window","global"].some(e=>Object.prototype.toString.call(t).includes(e))}function ue(t,e){return t?e.document.documentElement:null}function be(t,e){const i=function({container:t,isWindow:e,axis:i}){const{offsetHeightKey:r,clientHeightKey:n}=de(i);return he(t,e,r,n)}(e);return e.isWindow?function(t,e,i){const{axis:r,container:n,isWindow:o}=i,{offsetHeightKey:a,clientHeightKey:c}=de(r),s=t+pe(ue(o,n),r,o),l=he(e.nativeElement,o,a,c);return{height:t,scrolled:s,totalToScroll:function(t,e,i){const r=e.topKey();if(t.getBoundingClientRect)return t.getBoundingClientRect()[r]+pe(t,e,i)}(e.nativeElement,r,o)+l,isWindow:o}}(i,t,e):function(t,e,i){const{axis:r,container:n}=i;return{height:t,scrolled:n[r.scrollTopKey()],totalToScroll:n[r.scrollHeightKey()],isWindow:!1}}(i,0,e)}function de(t){return{offsetHeightKey:t.offsetHeightKey(),clientHeightKey:t.clientHeightKey()}}function he(t,e,i,r){if(isNaN(t[i])){const i=ue(e,t);return i?i[r]:0}return t[i]}function pe(t,e,i){const r=e.pageYOffsetKey(),n=e.scrollTopKey(),o=e.offsetTopKey();return isNaN(window.pageYOffset)?ue(i,t)[n]:t.ownerDocument?t.ownerDocument.defaultView[r]:t[o]}function me(t,e,i){let r,n;if(t.totalToScroll<=0)return!1;const o=t.isWindow?t.scrolled:t.height+t.scrolled;return i?(r=(t.totalToScroll-o)/t.totalToScroll,n=e.down/10):(r=t.scrolled/(t.scrolled+(t.totalToScroll-o)),n=e.up/10),r<=n}class fe{constructor({totalToScroll:t}){this.lastScrollPosition=0,this.lastTotalToScroll=0,this.totalToScroll=0,this.triggered={down:0,up:0},this.totalToScroll=t}updateScrollPosition(t){return this.lastScrollPosition=t}updateTotalToScroll(t){this.lastTotalToScroll!==t&&(this.lastTotalToScroll=this.totalToScroll,this.totalToScroll=t)}updateScroll(t,e){this.updateScrollPosition(t),this.updateTotalToScroll(e)}updateTriggeredFlag(t,e){e?this.triggered.down=t:this.triggered.up=t}isTriggeredScroll(t,e){return e?this.triggered.down===t:this.triggered.up===t}}function ge(t){const{scrollDown:e,stats:{scrolled:i}}=t;return{type:e?"[NGX_ISE] DOWN":"[NGX_ISE] UP",payload:{currentScrollPosition:i}}}let ye=(()=>{class t{constructor(t,e){this.element=t,this.zone=e,this.scrolled=new c.o,this.scrolledUp=new c.o,this.infiniteScrollDistance=2,this.infiniteScrollUpDistance=1.5,this.infiniteScrollThrottle=150,this.infiniteScrollDisabled=!1,this.infiniteScrollContainer=null,this.scrollWindow=!0,this.immediateCheck=!1,this.horizontal=!1,this.alwaysCallback=!1,this.fromRoot=!1}ngAfterViewInit(){this.infiniteScrollDisabled||this.setup()}ngOnChanges({infiniteScrollContainer:t,infiniteScrollDisabled:e,infiniteScrollDistance:i}){const r=oe(t),n=oe(e),o=oe(i),a=!n&&!this.infiniteScrollDisabled||n&&!e.currentValue||o;(r||n||o)&&(this.destroyScroller(),a&&this.setup())}setup(){"undefined"!=typeof window&&this.zone.runOutsideAngular(()=>{this.disposeScroller=function(t){const{scrollContainer:e,scrollWindow:i,element:r,fromRoot:n}=t,c=function({windowElement:t,axis:e}){return function(t,e){const i=t.isWindow||e&&!e.nativeElement?e:e.nativeElement;return Object.assign(Object.assign({},t),{container:i})}({axis:e,isWindow:le(t)},t)}({axis:new se(!t.horizontal),windowElement:ne(e,i,r,n)}),s=new fe({totalToScroll:be(r,c)}),l={up:t.upDistance,down:t.downDistance};return function(t){let e=Object(y.a)(t.container,"scroll");return t.throttle&&(e=e.pipe(function(t,e=Yt.a,i=te){return r=>r.lift(new ee(t,e,i.leading,i.trailing))}(t.throttle))),e}({container:c.container,throttle:t.throttle}).pipe(Object(o.a)(()=>Object($t.a)(be(r,c))),Object(a.a)(t=>function(t,e,i){const{scrollDown:r,fire:n}=function(t,e,i){const r=function(t,e){return t<e.scrolled}(t,e);return{fire:me(e,i,r),scrollDown:r}}(t,e,i);return{scrollDown:r,fire:n,stats:e}}(s.lastScrollPosition,t,l)),Object(w.a)(({stats:t})=>s.updateScroll(t.scrolled,t.totalToScroll)),Object(Jt.a)(({fire:e,scrollDown:i,stats:{totalToScroll:r}})=>function(t,e,i){return!(!t||!e)||!(i||!e)}(t.alwaysCallback,e,s.isTriggeredScroll(r,i))),Object(w.a)(({scrollDown:t,stats:{totalToScroll:e}})=>{s.updateTriggeredFlag(e,t)}),Object(a.a)(ge))}({fromRoot:this.fromRoot,alwaysCallback:this.alwaysCallback,disable:this.infiniteScrollDisabled,downDistance:this.infiniteScrollDistance,element:this.element,horizontal:this.horizontal,scrollContainer:this.infiniteScrollContainer,scrollWindow:this.scrollWindow,throttle:this.infiniteScrollThrottle,upDistance:this.infiniteScrollUpDistance}).subscribe(t=>this.zone.run(()=>this.handleOnScroll(t)))})}handleOnScroll({type:t,payload:e}){switch(t){case"[NGX_ISE] DOWN":return this.scrolled.emit(e);case"[NGX_ISE] UP":return this.scrolledUp.emit(e);default:return}}ngOnDestroy(){this.destroyScroller()}destroyScroller(){this.disposeScroller&&this.disposeScroller.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(c.Lb(c.l),c.Lb(c.A))},t.\u0275dir=c.Gb({type:t,selectors:[["","infiniteScroll",""],["","infinite-scroll",""],["","data-infinite-scroll",""]],inputs:{infiniteScrollDistance:"infiniteScrollDistance",infiniteScrollUpDistance:"infiniteScrollUpDistance",infiniteScrollThrottle:"infiniteScrollThrottle",infiniteScrollDisabled:"infiniteScrollDisabled",infiniteScrollContainer:"infiniteScrollContainer",scrollWindow:"scrollWindow",immediateCheck:"immediateCheck",horizontal:"horizontal",alwaysCallback:"alwaysCallback",fromRoot:"fromRoot"},outputs:{scrolled:"scrolled",scrolledUp:"scrolledUp"},features:[c.yb]}),t})(),ve=(()=>{class t{}return t.\u0275mod=c.Jb({type:t}),t.\u0275inj=c.Ib({factory:function(e){return new(e||t)},providers:[],imports:[[]]}),t})();function Se(t,e){if(1&t){const t=c.Sb();c.Rb(0,"div",2),c.Rb(1,"div",3),c.Rb(2,"mat-card"),c.Mb(3,"img",4),c.Rb(4,"mat-card-content"),c.Rb(5,"div",5),c.Rb(6,"p"),c.Rb(7,"b"),c.Fc(8),c.Qb(),c.Qb(),c.Rb(9,"p"),c.Fc(10),c.Qb(),c.Rb(11,"p"),c.Fc(12),c.ec(13,"currency"),c.Qb(),c.Qb(),c.Qb(),c.Rb(14,"mat-card-actions",6),c.Rb(15,"button",7),c.Zb("click",(function(){c.uc(t);const i=e.$implicit;return c.dc().addToCart(i)})),c.Fc(16," Add To Cart "),c.Qb(),c.Rb(17,"button",8),c.Zb("click",(function(){c.uc(t);const i=e.$implicit;return c.dc().buyNow(i)})),c.Fc(18," Buy Now "),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb()}if(2&t){const t=e.$implicit;c.Ab(3),c.kc("src",t.imagePath,c.wc),c.Ab(5),c.Gc(t.item),c.Ab(2),c.Hc(" ",t.subCategory," "),c.Ab(2),c.Hc("Price: ",c.gc(13,4,t.price,"INR"),"")}}const we=[{path:"",component:st,pathMatch:"full"},{path:"manage_inventory",component:K},{path:"addItem",component:Lt},{path:"editItem/:id",component:Pt,resolve:{selectedItem:p}},{path:"view/:title",component:zt,resolve:{selectedItem:f}},{path:"list/:subcategory",component:(()=>{class t{constructor(t,e,i,r,n){this.activatedRoute=t,this.inventoryService=e,this.uiUtilityService=i,this.cartService=r,this.router=n,this.items=[],this.page=0,this.size=10}ngOnInit(){this.activatedRoute.params.subscribe(t=>{this.subCategory=t.subcategory,this.getItemsBySubCategory()})}getItemsBySubCategory(){this.inventoryService.getItemsBySubCategory(this.page,this.size,this.subCategory).subscribe(t=>{this.items=t.items,console.log("Items",this.items)},t=>this.uiUtilityService.showErrorSnackBar(t))}addToCart(t){console.log("Adding Sub Category View",t),this.cartService.addToCart(t).subscribe(t=>{this.uiUtilityService.showSnackBar("Added to Cart","Close")},t=>this.uiUtilityService.showErrorSnackBar(t))}buyNow(t){this.cartService.addToCart(t).subscribe(t=>this.router.navigate(["/checkout"]),t=>this.uiUtilityService.showErrorSnackBar(t))}onScroll(){this.size=this.size+3,console.log("Page ",this.page),this.getItemsBySubCategory()}}return t.\u0275fac=function(e){return new(e||t)(c.Lb(m.a),c.Lb(h),c.Lb(R.a),c.Lb(X.a),c.Lb(m.c))},t.\u0275cmp=c.Fb({type:t,selectors:[["app-sub-category-view"]],decls:2,vars:3,consts:[["fxLayout","row wrap","fxLayout.lt-md","column","fxLayoutGap","10px grid","fxFill","","infiniteScroll","",3,"infiniteScrollDistance","infiniteScrollThrottle","scrolled"],["fxFlex","33.33","fxFlex.lt-md","100",4,"ngFor","ngForOf"],["fxFlex","33.33","fxFlex.lt-md","100"],["fxLayout","column"],["mat-card-lg-image","",3,"src"],[1,"large-font","mt-10"],["fxLayout","row","fxLayoutGap","10px"],["mat-flat-button","","color","primary",3,"click"],["mat-flat-button","","color","accent",3,"click"]],template:function(t,e){1&t&&(c.Rb(0,"div",0),c.Zb("scrolled",(function(){return e.onScroll()})),c.Dc(1,Se,19,7,"div",1),c.Qb()),2&t&&(c.jc("infiniteScrollDistance",1)("infiniteScrollThrottle",50),c.Ab(1),c.jc("ngForOf",e.items))},directives:[O.d,O.e,O.f,ye,r.m,O.b,lt.a,lt.d,lt.c,lt.b,I.a],pipes:[r.d],styles:[""]}),t})()},{path:"search",component:Kt}];let Ce=(()=>{class t{}return t.\u0275mod=c.Jb({type:t}),t.\u0275inj=c.Ib({factory:function(e){return new(e||t)},imports:[[m.e.forChild(we)],m.e]}),t})();var Re=i("YUcS"),Ie=i("hGdz");let xe=(()=>{class t{}return t.\u0275mod=c.Jb({type:t}),t.\u0275inj=c.Ib({factory:function(e){return new(e||t)},providers:[p,f],imports:[[r.c,Ce,Re.a,j.e,A.b,ut.b,Ie.a,ve,It,C.f]]}),t})()}}]);